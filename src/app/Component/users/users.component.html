<div class="container header m-auto py-4 d-flex justify-content-between">
  <h3 class="text-center fw-bolder">User List</h3>
  <button class="fw-bold text-capitalize " (click)="showNewAcountForm()"> new
    account</button>
</div>

<div class="container-fluid px-5">
  <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-hover t-responsive nowrap"
    style="width:100%">
    <thead>
      <tr>
        <th>First name</th>
        <th>Last name </th>
        <th>address</th>
        <th>username</th>
        <th>Email</th>
        <th>Registered At</th>
        <th>Role</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr class="fw-bold" *ngFor="let item of users">
        <td>{{item.firstname}}</td>
        <td>{{item.lastname}}</td>
        <td>{{item.address}}</td>
        <td>{{item.username}}</td>
        <td>{{item.email}}</td>
        <td>{{item.registeredAt|date}}</td>
        <td>{{item.role}}</td>
        <td class="text-start"> <span
            [ngClass]="{'inactive': item.status==='Inactive','active': item.status ==='Active'}">{{item.status}}</span>
        </td>
        <td>
          <Button class="btn btn-primary" (click)="getUpdateForm(item)">Edit</Button>
        </td>
      </tr>
    </tbody>
  </table>
</div>


<div class="popup-container w-100 d-flex justify-content-center align-items-center h-100 " *ngIf="updateUser">
  <div class="form-container p-0 m-0">
    <form [formGroup]="UpdateUserForm" class="update-account-form  text-white w-100"
      (ngSubmit)="submitUpdateForm(UpdateUserForm.value)">
      <div class="title px-4">
        <h3 class="fw-bolder">User Information</h3>
      </div>

      <div class="form-content col-sm-12 row">
        <div class="firstname col-sm-6 py-2 d-flex flex-column justify-content-between">
          <input type="text" name="firstname" placeholder="First Name" id="firstname" formControlName="firstname">
        </div>
        <div class="lastname col-sm-6 py-2 d-flex flex-column">
          <input type="text" name="lastname" placeholder="Last Name" id="lastname" formControlName="lastname">
        </div>
        <div class="username col-sm-6 py-2 d-flex flex-column">
          <input type="text" name="username" placeholder="Username" id="username" formControlName="username">
        </div>
        <div class="email col-sm-6 py-2 d-flex flex-column">
          <input type="email" name="email" placeholder="Email" id="email" formControlName="email">
        </div>
        <div class="phone col-sm-6 py-2 d-flex flex-column">
          <input type="number" name="phone" placeholder="Phone" id="phone" formControlName="phone">
        </div>
        <div class="phone col-sm-6 py-2 d-flex flex-column">
          <input type="text" name="address" placeholder="Address" id="address" formControlName="address">
        </div>
        <div class="role text-light d-flex flex-column col-sm-6 cards">
          <label class=" text-capitalize fw-bold" for="role">Role</label>
          <select id="role" class="role" formControlName="role">
            <option value="Mechanic">User</option>
            <option value="Super Admin">Admin</option>
            <option value="IT Support">Support</option>
            <option value="Store Manager">StoreManager</option>
            <option value="Tools Manager">Tools Manager</option>
          </select>
        </div>
        <div class="role text-light d-flex flex-column col-sm-6 cards">
          <label class="text-capitalize fw-bold" for="status">Status</label>
          <select id="status" class="status" formControlName="status">
            <option value="Active">Active</option>
            <option value="Inactive">Deactive</option>
          </select>
        </div>
        <div class="buttons pt-3 d-flex justify-content-around">
          <button class="btn btn-primary fw-bold" type="submit">Update</button>
          <button class="btn btn-danger fw-bold" (click)="removeUpdateForm()">Close</button>
        </div>
      </div>
    </form>
  </div>

</div>

<div class="w-100 new-account-form h-100" *ngIf="newAccountForm">
  <div class="container form-container ">
    <header class="d-flex justify-content-between align-items-center container-fluid text-light">
      <h3 class="text-capitalize">new accoufint</h3>
      <i class='bi bi-x text-white fw-bold fs-5' (click)="removeNewAccountForm()"></i>
    </header>

    <form [formGroup]="NewAccountForm" (ngSubmit)="onSubmit(NewAccountForm.value)" class="row">
      <div class="firstname text-light d-flex flex-column col-lg-4 cards">
        <input type="text" placeholder="First Name" formControlName="firstname">
      </div>
      <div class="lastname text-light d-flex flex-column col-lg-4 cards">
        <input type="text" placeholder="Last Name" formControlName="lastname">
      </div>
      <div class="email text-light d-flex flex-column col-lg-4 cards">
        <input type="email" placeholder="Email" formControlName="email">
      </div>
      <div class="address text-light d-flex flex-column col-lg-4 cards">
        <input type="text" placeholder="Username" formControlName="username">
      </div>
      <div class="password text-light d-flex flex-column col-lg-4 cards">
        <input type="password" placeholder="Password" formControlName="password">
      </div>
      <div class="confirm text-light d-flex flex-column col-lg-4 cards">
        <input type="password" placeholder="Confirm Password" formControlName="confirm">
      </div>
      <div class="role text-light d-flex flex-column col-lg-4 cards">
        <label class=" text-capitalize fw-bold" for="role">Role</label>
        <select id="role" class="role" formControlName="role">
          <option value="Mechanic">User</option>
          <option value="Super Admin">admin</option>
          <option value="IT Support">support</option>
          <option value="Store Manager">Store Manager</option>
          <option value="Tools Manager">Tool Manager</option>
        </select>
      </div>
      <div class="button d-flex justify-content-around container-fluid">
        <button class="btn btn-primary fw-bold" type="submit">Submit</button>
        <button class="btn btn-danger fw-bold" (click)="removeNewAccountForm()">Cancel</button>
      </div>
    </form>

  </div>
</div>